{
    "$id": "ason",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "A schema for an article",
    "type": "object",
    "additionalProperties": false,
    "required": [
        "title",
        "content",
        "metadata"
    ],
    "properties": {
        "$defs": {
            "text": {
                "description": "Defines a text node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "emphasis",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "pattern": "string"
                    },
                    "emphasis": {
                        "description": "The emphasis of the node (bold, italic, underline)",
                        "anyOf": [
                            {
                                "type": "null"
                            },
                            {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "enum": [
                                        "sub",
                                        "sup",
                                        "bold",
                                        "italic",
                                        "underline",
                                        "formula",
                                        "code"
                                    ]
                                }
                            }
                        ]
                    },
                    "content": {
                        "description": "The content of the node",
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "array",
                                "items": {
                                    "$ref": "#/$defs/text"
                                }
                            }
                        ]
                    }
                }
            },
            "list": {
                "title": "List",
                "description": "Defines a list node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "order",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "list"
                        ]
                    },
                    "order": {
                        "description": "The order of the list",
                        "type": "string",
                        "enum": [
                            "ordered",
                            "unordered"
                        ]
                    },
                    "content": {
                        "description": "The content of the list",
                        "type": "array",
                        "items": {
                            "anyOf": [
                                {
                                    "$ref": "#/$defs/text"
                                },
                                {
                                    "$ref": "#/$defs/list"
                                }
                            ]
                        }
                    }
                }
            },
            "table": {
                "title": "Table",
                "description": "Defines a table node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "table"
                        ]
                    },
                    "content": {
                        "description": "The content of the table",
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                            "headers",
                            "body",
                            "footer"
                        ],
                        "properties": {
                            "headers": {
                                "description": "The headers of the table",
                                "anyOf": [
                                    {
                                        "type": "null"
                                    },
                                    {
                                        "type": "array",
                                        "items": {
                                            "description": "Defines a cell node",
                                            "type": "object",
                                            "additionalProperties": false,
                                            "required": [
                                                "xIndex",
                                                "content"
                                            ],
                                            "properties": {
                                                "xIndex": {
                                                    "description": "The x index of the cell",
                                                    "type": "integer",
                                                    "minimum": 0
                                                },
                                                "content": {
                                                    "description": "The content of the cell",
                                                    "anyOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "$ref": "#/$defs/string"
                                                        }
                                                    ]
                                                }
                                            }
                                        }
                                    }
                                ]
                            },
                            "body": {
                                "description": "The body of the table",
                                "type": "array",
                                "items": {
                                    "type": "array",
                                    "items": {
                                        "description": "Defines a cell node",
                                        "type": "object",
                                        "additionalProperties": false,
                                        "required": [
                                            "xIndex",
                                            "yIndex",
                                            "content"
                                        ],
                                        "properties": {
                                            "xIndex": {
                                                "description": "The x index of the cell",
                                                "type": "integer",
                                                "minimum": 0
                                            },
                                            "yIndex": {
                                                "description": "The y index of the cell",
                                                "type": "integer",
                                                "minimum": 0
                                            },
                                            "content": {
                                                "description": "The content of the cell",
                                                "anyOf": [
                                                    {
                                                        "type": "null"
                                                    },
                                                    {
                                                        "$ref": "#/$defs/paragraph"
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "section": {
                "title": "Section",
                "description": "Defines a section encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "section"
                        ]
                    },
                    "content": {
                        "description": "The content of the node",
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                            "header",
                            "body"
                        ],
                        "properties": {
                            "header": {
                                "description": "The header of the section",
                                "anyOf": [
                                    {
                                        "type": "null"
                                    },
                                    {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "required": [
                                            "level",
                                            "content"
                                        ],
                                        "properties": {
                                            "level": {
                                                "description": "The level of the heading (1-6)",
                                                "type": "integer",
                                                "minimum": 1,
                                                "maximum": 6
                                            },
                                            "content": {
                                                "description": "The content of the node",
                                                "type": "string"
                                            }
                                        }
                                    }
                                ]
                            },
                            "body": {
                                "description": "The content of the node",
                                "type": "array",
                                "items": {
                                    "anyOf": [
                                        {
                                            "$ref": "#/$defs/paragraph"
                                        },
                                        {
                                            "$ref": "#/$defs/list"
                                        },
                                        {
                                            "$ref": "#/$defs/table"
                                        },
                                        {
                                            "$ref": "#/$defs/section"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        "string": {
                "title": "String",
                "description": "Defines a simple string encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "emphasis",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "string"
                        ]
                    },
                    "emphasis": {
                        "description": "The emphasis of the node",
                        "anyOf": [
                            {
                                "type": "null"
                            },
                            {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "enum": [
                                        "bold",
                                        "italic",
                                        "underline",
                                        "code"
                                    ]
                                }
                            }
                        ]
                    },
                    "content": {
                        "description": "The content of the node",
                        "type": "string"
                    }
                }
            },
            "code": {
                "title": "Code",
                "description": "Defines a code encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "syntax",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "code"
                        ]
                    },
                    "syntax": {
                        "description": "The language for syntax highlighting",
                        "type": "string"
                    },
                    "content": {
                        "$ref": "#/$defs/string"
                    }
                }
            },
            "link": {
                "title": "Link",
                "description": "Defines a link encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "uri",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "link"
                        ]
                    },
                    "uri": {
                        "description": "The URI of the link",
                        "type": "string"
                    },
                    "content": {
                        "description": "The content of the node",
                        "anyOf": [
                            {
                                "$ref": "#/$defs/string"
                            }
                        ]
                    }
                }
            },
            "paragraph": {
                "title": "Paragraph",
                "description": "Defines a paragraph encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "paragraph"
                        ]
                    },
                    "content": {
                        "description": "The content of the node",
                        "anyOf": [
                            {
                                "$ref": "#/$defs/string"
                            },
                            {
                                "$ref": "#/$defs/link"
                            },
                            {
                                "$ref": "#/$defs/paragraph"
                            },
                            {
                                "$ref": "#/$defs/code"
                            },
                            {
                                "type": "array",
                                "items": {
                                    "anyOf": [
                                        {
                                            "$ref": "#/$defs/string"
                                        },
                                        {
                                            "$ref": "#/$defs/link"
                                        },
                                        {
                                            "$ref": "#/$defs/paragraph"
                                        },
                                        {
                                            "$ref": "#/$defs/code"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                }
            },
            "heading": {
                "title": "Heading",
                "description": "Defines a heading encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "level",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "heading"
                        ]
                    },
                    "level": {
                        "description": "The level of the heading (1-6)",
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 6
                    },
                    "content": {
                        "description": "The content of the node",
                        "anyOf": [
                            {
                                "$ref": "#/$defs/string"
                            },
                            {
                                "$ref": "#/$defs/paragraph"
                            }
                        ]
                    }
                }
            },
            "lineBreak": {
                "title": "Line-break",
                "description": "Defines a line-break node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "lineBreak"
                        ]
                    }
                }
            },
            "quote": {
                "title": "Quote",
                "description": "Defines a quote encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "quote"
                        ]
                    },
                    "content": {
                        "description": "The content of the node",
                        "anyOf": [
                            {
                                "$ref": "#/$defs/string"
                            },
                            {
                                "$ref": "#/$defs/paragraph"
                            },
                            {
                                "type": "array",
                                "items": {
                                    "anyOf": [
                                        {
                                            "$ref": "#/$defs/string"
                                        },
                                        {
                                            "$ref": "#/$defs/paragraph"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                }
            },
            "list": {
                "title": "List",
                "description": "Defines a list encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "order",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "list"
                        ]
                    },
                    "order": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "ordered",
                            "unordered"
                        ]
                    },
                    "content": {
                        "description": "The content of the node",
                        "type": "array",
                        "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                                "index",
                                "content"
                            ],
                            "properties": {
                                "index": {
                                    "description": "The index of the node",
                                    "type": "integer"
                                },
                                "content": {
                                    "description": "The content of the node",
                                    "anyOf": [
                                        {
                                            "$ref": "#/$defs/string"
                                        },
                                        {
                                            "$ref": "#/$defs/paragraph"
                                        },
                                        {
                                            "$ref": "#/$defs/link"
                                        },
                                        {
                                            "$ref": "#/$defs/list"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "table": {
                "title": "Table",
                "description": "Defines a table encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "table"
                        ]
                    },
                    "content": {
                        "description": "The content of the node",
                        "type": "array",
                        "items": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    {
                                        "$ref": "#/$defs/string"
                                    },
                                    {
                                        "$ref": "#/$defs/paragraph"
                                    },
                                    {
                                        "$ref": "#/$defs/link"
                                    },
                                    {
                                        "$ref": "#/$defs/code"
                                    }
                                ]
                            }
                        }
                    }
                }
            },
            "section": {
                "title": "Section",
                "description": "Defines a section encapsulator node",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "type",
                    "heading",
                    "content"
                ],
                "properties": {
                    "type": {
                        "description": "The type of the node",
                        "type": "string",
                        "enum": [
                            "section"
                        ]
                    },
                    "heading": {
                        "description": "The heading of the section",
                        "anyOf": [
                            {
                                "type": "null"
                            },
                            {
                                "$ref": "#/$defs/heading"
                            }
                        ]
                    },
                    "content": {
                        "description": "The content of the node",
                        "type": "array",
                        "items": {
                            "anyOf": [
                                {
                                    "$ref": "#/$defs/string"
                                },
                                {
                                    "$ref": "#/$defs/code"
                                },
                                {
                                    "$ref": "#/$defs/link"
                                },
                                {
                                    "$ref": "#/$defs/paragraph"
                                },
                                {
                                    "$ref": "#/$defs/lineBreak"
                                },
                                {
                                    "$ref": "#/$defs/quote"
                                },
                                {
                                    "$ref": "#/$defs/list"
                                },
                                {
                                    "$ref": "#/$defs/table"
                                }
                            ]
                        }
                    }
                }
            }
        },
        "title": "Article Schema Object Notation",
        "description": "Defines the schema of an article",
        "type": "object",
        "additionalProperties": true,
        "required": [
            "title",
            "content",
            "metadata"
        ],
        "properties": {
            "title": {
                "description": "The title of the article",
                "type": "string"
            },
            "abstract": {
                "description": "The abstract of the article",
                "type": "array",
                "items": {
                    "$ref": "#/$defs/section"
                }
            },
            "content": {
                "title": "Content",
                "description": "The content of the article",
                "type": "array",
                "items": {
                    "$ref": "#/$defs/section"
                }
            },
            "table": {},
            "metadata": {
                "title": "Metadata",
                "description": "The metadata of the article",
                "type": "object",
                "additionalProperties": false,
                "required": [
                    "authors",
                    "createdOn",
                    "tags"
                ],
                "properties": {
                    "authors": {
                        "description": "The authors of the article",
                        "type": "array",
                        "items": {
                            "title": "Author",
                            "description": "Defines an author object",
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                                "id",
                                "name"
                            ],
                            "properties": {
                                "id": {
                                    "description": "The id of the author",
                                    "type": "string"
                                },
                                "name": {
                                    "description": "The name of the author",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "createdOn": {
                        "description": "The date the article was created",
                        "type": "string"
                    },
                    "tags": {
                        "description": "The tags of the article",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    }